(ns torque.lang.binary.util
  (:require
    [torque.lang.exceptions :refer :all]))

(defn throw-binary-width [b offset width]
  ;; (throw
  ;;  (ex-info
  ;;   (str "Reading " width
  ;;        " bytes from binary at offset " offset
  ;;        " exceeds binary length " (blength b))
  ;;   {:width  width
  ;;    :offset offset
  ;;    :length (blength b)}))
  )

(def ^:private msb (bit-shift-left 0x1 7))

(defn ^:private signed? [byte]
  (== (bit-and byte msb) msb))
