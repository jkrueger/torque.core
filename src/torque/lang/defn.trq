;; -*- mode: clojure;-*-

(ns torque.lang.defn
  (:use
    [torque.lang.protocols]
    [torque.lang.boot]))

;; This defones the fn macro for the first time as a simple forward to
;; fn*. Later on this will be redefined with destructuring and other
;; goodies
(def ^:macro fn
  (fn* [& fdecl]
    (cons 'fn* fdecl)))

(def ^:macro defn
  (fn [name & fdecl]
    ;; TODO: parse meta information and attach to
    ;; function definition
    (list 'def name (cons 'fn fdecl))))

